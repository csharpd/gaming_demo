<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Gaming</title>
  <!--   <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" > -->
    <link rel="stylesheet" href="assets/css/app.css" type="text/css">
    <script type="text/javascript" src="assets/javascript/jquery.js"></script>
    <script src='https://dd6zx4ibq538k.cloudfront.net/smartserve-3754.js'></script>

  </head>
  <body>
    <nav>User ID: <input type="text" name="user-id" id="user-id" required></nav>
    <div class="content">
      <form method="post" action="#" id="betting-form">
        
        
        
        <div class="selection">
          <label class="game-selection football" for="football">
            <input class="football" type="radio" name="selection" value="football"> 
          </label>
          
          <label class="game-selection casino" for="casino">
            <input class="casino" type="radio" name="selection" value="casino"> 
          </label>
          
          <label class="game-selection poker" for="poker">
            <input class="poker" type="radio" name="selection" value="poker"> 
          </label>
        </div>

        <div class="options">
          <div id="football-bets" class="bets-section">
            <h2> Arsenal vs. Man U</h2>  
            <div class="football-bet">
              <table>
                <tr>
                  <th>H</th>
                  <th>D</th>
                  <th>A</th>
                </tr>
                <tr>
                  <td><input type="radio" class="bet" name="bet" value="3"> 15 / 5</td>
                  <td><input type="radio" class="bet" name="bet" value="1.4"> 7 / 5</td>
                  <td><input type="radio" class="bet" name="bet" value="1.75"> 7 / 4</td>
                </tr>
              </table>
            </div>

            <h2> Liverpool vs. Chelsea</h2>
            <div class="football-bet" >
              <table>
                <col width="80">
                <tr>
                  <th>H</th>
                  <th>D</th>
                  <th>A</th>
                </tr>
                <tr>
                  <td><input type="radio" class="bet" name="bet" value="2.4"> 12 / 5</td>
                  <td><input type="radio" class="bet" name="bet" value="1.25"> 5 / 4</td>
                  <td><input type="radio" class="bet" name="bet" value="1.75"> 7 / 4</td>
                </tr>
              </table>
            </div> 
            <h2> Man City vs. West Ham</h2>
            <div class="football-bet">
              <table>
                <tr>
                  <th>H</th>
                  <th>D</th>
                  <th>A</th>
                </tr>
                <tr>
                  <td><input type="radio" class="bet" name="bet" value="2.6"> 13 / 5</td>
                  <td><input type="radio" class="bet" name="bet" value="1.4"> 7 / 5</td>
                  <td><input type="radio" class="bet" name="bet" value="1.75"> 7 / 5</td>
                </tr>
              </table>
            </div>   
          </div>
          <div id="casino-bets" class="bets-section">
            <div class="casino-bet">
              <h2> casino 1</h2>
              <input type="radio" name="bet" value="3"> H <br > 15 / 5
              <input type="radio" name="bet" value="1.4"> D <br> 7 / 5
              <input type="radio" name="bet" value="1.75"> A <br> 7 / 4
            </div>
            <div class="casino-bet">
              <h2> casino 2</h2>
              <input type="radio" name="bet" value="2.4"> 12 / 5
              <input type="radio" name="bet" value="1.25"> 5 / 4
              <input type="radio" name="bet" value="1.75"> 7 / 4
            </div> 
            <div class="casino-bet">
              <h2> casino 3</h2>
              <input type="radio" name="bet" value="2.6"> 13 / 5
              <input type="radio" name="bet" value="1.4"> 7 / 5
              <input type="radio" name="bet" value="1.75"> 7 / 5
            </div>  
          </div>
          <div id="poker-bets" class="bets-section">
            <div class="poker-bet">
              <h2> poker 1</h2>
              <input type="radio" name="bet" value="3"> 15 / 5
              <input type="radio" name="bet" value="1.4"> 7 / 5
              <input type="radio" name="bet" value="1.75"> 7 / 4
            </div>
            <div class="poker-bet">
              <h2> poker 2</h2>
              <input type="radio" name="bet" value="2.4"> 12 / 5
              <input type="radio" name="bet" value="1.25"> 5 / 4
              <input type="radio" name="bet" value="1.75"> 7 / 4
            </div> 
            <div class="poker-bet">
              <h2> poker 3</h2>
              <input type="radio" name="bet" value="2.6"> 13 / 5
              <input type="radio" name="bet" value="1.4"> 7 / 5
              <input type="radio" name="bet" value="1.75"> 7 / 5
            </div>  
          </div>
        </div>

        <div class="stake-section"> 
          <h3 class="stake">Stake</h3>
          <div class="stake-details">
            <input type="text" name="stake" value="Â£00.00" required>
            <input type="submit" value="Place Bet">
          </div>
        </div>
      </form>
    <div>

    <script type="text/javascript">
        $("input[name='selection']").click(function () {
          $('.stake-section').css('display', 'block');

          $('#football-bets').css('display', ($(this).val() === 'football') ? 'block' : 'none');
          $('#casino-bets').css('display', ($(this).val() === 'casino') ? 'block' : 'none');
          $('#poker-bets').css('display', ($(this).val() === 'poker') ? 'block' : 'none');
        })

        $( "form" ).on( "submit", function( event ) {
          event.preventDefault();
          
          var qubit = $( this ).serializeArray();
          var user = qubit[0].value;
          var type = qubit[1].value;
          var odds = qubit[2].value;
          var stake = qubit[3].value;

          function sendQP (user, type, odds, stake) {
             if (window.uv && window.uv.emit) {
                console.log("have UV");
                console.log(user);
                window.uv.emit('egUser',{
                             "user": {
                               "id": "32624092",
                               "username": "jona_46",
                               "email": "jona_46@hotmail.com",
                               "language": "en",
                               "currency": "GBP",
                               "isGuest": false,
                               "userid": user,
                               "type": type,
                               "odds": odds,
                               "stake": stake 
                             }
                            });
             }
           }
           sendQP(user, type, odds, stake);
        });

    </script>




  		
  </body>
</html>